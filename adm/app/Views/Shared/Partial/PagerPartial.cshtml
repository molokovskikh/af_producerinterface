@using ProducerInterfaceCommon.ContextModels
@{
    var info = ViewBag.Info;
}

@if (info.PageCount > 1) {
    <ul class="pagination pagination-sm">
        @for (var i = 0; i < info.PageCount; i++) {
            if (i == info.CurrentPageIndex) {
                <li class="active">
                    <a>@(i + 1)</a>
                </li>
            }
            else {
                var I2 = i - 4;
                var I3 = i + 4;
                if (I3 > info.CurrentPageIndex && I2 < info.CurrentPageIndex) {
                    <li>
                        <a href="@Url.Action("Index", new { id = i })">@(i + 1)</a>
                    </li>
                }
                if (I2 == info.CurrentPageIndex) {
                    <li>
                        <a href="@Url.Action("Index", new { id = i })">Следующая</a>
                    </li>
                }
                if (I3 == info.CurrentPageIndex) {
                    <li>
                        <a href="@Url.Action("Index", new { id = i })">Предыдущая</a>
                    </li>
                }
            }
        }
    </ul>
}