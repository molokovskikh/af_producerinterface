@using ProducerInterfaceCommon.ContextModels
@model IEnumerable<Account>
@{
  Layout = null;
}


@if (Model.Any())
{
@Html.Partial("Partial/Pager")
<div class="panel-group panel-success" id="accordionlistpermission">
    @foreach (var user in Model)
    {
    <h3>@user.Name</h3>

    <div class="panel panel-default">

        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" href="#collapsePermissionList_@user.Id" data-parent="#accordionlistpermission"><span class="glyphicon glyphicon-sort-by-attributes-alt"></span>&nbsp;&nbsp;&nbsp; Раскрыть</a>
            </h4>
        </div>
        <div id="collapsePermissionList_@user.Id" class="panel-collapse collapse">

            <h4>Список групп </h4>
            <div class="form-group">
                @foreach (var g in user.AccountGroup)
                {
                <p title="@g.Description">- @g.Name</p>}
                <div class="form-group">
                    <a class="btn btn-primary" href="@Url.Action("Change", new { Id = user.Id })"><span class="glyphicon glyphicon-cog"></span>&nbsp;&nbsp;&nbsp; Редактировать</a>
                </div>
            </div>

            <hr />

            <h4>Список прав: </h4>
            <div class="form-group">
                @*@foreach (var p in user.ListPermission)
                    {
                        <p>@p</p>
                    }*@
            </div>

        </div>
    </div>
    }
</div>
}
else
{
<h3>По вашему запросу ничего не найдено</h3>
}



