
@using System.Resources
@model List<int>
@{
    // имя свойства
    var propName = ViewData.ModelMetadata.PropertyName;
    // лист всех вариантов для построения селекта
    var propList = (List<ProducerInterfaceCommon.ContextModels.OptionElement>)ViewData[propName];
    // класс для ошибки валидации, если есть
    var errorClass = "";
    var state = ViewData.ModelState[propName];
    if (state != null && state.Errors.Count > 0)
    {
        errorClass = " input-validation-error";
    }
}
<div class="col-xs-12">
    <div class="form-group">
        <div class="@(errorClass)">
            @Html.LabelFor(m=>m)
            <div class="row">
                <div class="col-xs-12">
                    @Html.ListBoxFor(m => m, new MultiSelectList(ViewBag.GroupList, "Value", "Text", Model), new { @class = "form-control", @style = "display:none;" }) <br />
                    @Html.ValidationMessageFor(m => m)
                </div>
            </div>     
        </div>
    </div>
</div>

