@model IEnumerable<ProducerInterfaceCommon.LoggerModels.logchangeview>
@using ProducerInterfaceCommon.LoggerModels;
@{
    ViewBag.Title = "Логирование изменений базы данных";
    Layout = "~/Views/Shared/_MasterPage.cshtml";
}

<h2>Лог изменений базы данных</h2>
<hr />

@Html.Partial("Partial/PagerPArtial")

@if (Model != null && Model.Count() > 0)
{

<table class="table-bordered table-striped" id="Table-LogUserChange">

    <tr>
        @*<th>Id</th>*@
        <th>Дата изменения</th>
        <th>Пользователь</th>
        <th>Производитель</th>
        <th>Действие</th>
        <th>Операция</th>
        <th>Объект</th>
        <th>Подробнее</th>
    </tr>



@foreach (var LogChangeItem in Model)
{
    <tr>
        @*<td>@LogChangeItem.ChangeSetId</td>*@
        <td>@LogChangeItem.Timestamp</td>
        <td>@LogChangeItem.UserName (@LogChangeItem.Email)</td>
        <td>@LogChangeItem.ProducerName</td>
        <td>@LogChangeItem.Description</td>
       <td>@LogChangeItem.EntityCommandEnum.GetDescription()</td>
        <td>@LogChangeItem.TypeDisplayName</td>
        <td>    
        <a href="~/LogUserChange/ReadMore/@LogChangeItem.ChangeObjectId"><span class="glyphicon glyphicon-pencil"></span></a>        
        </td>
    </tr>
}

</table>
}
else
{
<h4>Список логов пуст</h4>
}