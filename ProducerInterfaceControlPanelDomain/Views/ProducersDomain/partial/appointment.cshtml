@using ProducerInterfaceCommon.ContextModels
@{ 
    var EnabledList = ViewBag.EnabledList as IEnumerable<ProducerInterfaceCommon.ContextModels.AccountAppointment>;
    var DisableList = ViewBag.DisabledList as IEnumerable<ProducerInterfaceCommon.ContextModels.AccountAppointment>;
    var AccountList = ViewBag.AccountList as IEnumerable<ProducerInterfaceCommon.ContextModels.Account>;
}

@if (ViewBag.Results != null)
{
<div class="row">
    <h3>@ViewBag.Results</h3>
</div>
}

<div class="row">
    <p>(в скобках количество пользователей выбравших данную должность)</p>
    <div class="form-group">
        <label>Список доступных для выбора должностей</label>
        <select id="active" class="form-control">
            @foreach (var ActiveItem in EnabledList)
            {
                <option value="@ActiveItem.Id">@ActiveItem.Name ( @AccountList.Where(xxx=>xxx.AccountAppointment == ActiveItem).Count() )</option>
            }
        </select>   
    </div>
   
    <div class="form-group">
        <a class="btn btn-primary" onclick="ActivateDeactivete(0)">Убрать из списка выбранную должность</a>
    </div>

     <div class="form-group">
        <label>Список долностей которые вводили пользователи</label>
        <select id="inactive" class="form-control">
            @foreach (var NotActiveItem in DisableList)
            {
                <option value="@NotActiveItem.Id">@NotActiveItem.Name ( @AccountList.Where(xxx => xxx.AccountAppointment == NotActiveItem).Count() )</option>
            }
        </select>   
    </div>

    <div class="form-group">
        <a class="btn btn-primary" onclick="ActivateDeactivete(1)">Убрать из списка выбранную должность</a>
    </div>


    @using(Ajax.BeginForm("AddNewAppointment", "ProducersDomain", new AjaxOptions {HttpMethod="POST", UpdateTargetId= "replacecontent" })) { 
    <div class="form-group">
        <label>Добавить новый вариант должности для выбора</label>

        <div class="row">
            <div class="col-lg-6">
                <div class="input-group">
                    <input type="text" class="form-control" id="NewAppointmentname" name="NewAppointmentname" placeholder="Название должности">
                    <span class="input-group-btn">
                        <input class="btn btn-primary" type="submit" value="Добавить долность" />
                    </span>
                </div>
            </div>
        </div>     
    </div>
    }





</div>
